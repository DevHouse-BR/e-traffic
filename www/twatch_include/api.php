<?php

    /******************************************/
    /*  TraceWatch                            */
    /*  Website Statistics Software           */
	/*                                        */
    /*  Author: Arash Dejkam                  */
	/*                                        */
    /*  Copyright (c)2004-2005 Arash Dejkam   */
    /*  All Rights Reserved                   */ 
	/*                                        */
	/*  http://www.tracewatch.com             */
	/*                                        */
    /******************************************/

?>
<?php function viww3zqg($vvby6dsc) { if($vvby6dsc=="\141\154\154") return array("\167\150\145\162\145" => "","\155\157\156" => true); elseif($vvby6dsc=="\164\150\151\163\137\155\157\156\164\150") { return array("\167\150\145\162\145" => "\141\56\155\157\156\75\146\162\157\155\137\165\156\151\170\164\151\155\145\50\100\143\164\163\54\47\45\171\45\155\47\51","\155\157\156" => true); } elseif($vvby6dsc=="\154\141\163\164\137\155\157\156\164\150") { return array("\167\150\145\162\145" => "\141\56\155\157\156\75\144\141\164\145\137\146\157\162\155\141\164\50\144\141\164\145\137\163\165\142\50\146\162\157\155\137\165\156\151\170\164\151\155\145\50\100\143\164\163\51\54\151\156\164\145\162\166\141\154\40\61\40\155\157\156\164\150\51\54\47\45\171\45\155\47\51","\155\157\156" => true); } elseif($vvby6dsc=="\164\157\144\141\171") { return array("\167\150\145\162\145" => "\141\56\144\164\75\146\162\157\155\137\165\156\151\170\164\151\155\145\50\100\143\164\163\54\47\45\171\55\45\155\55\45\144\47\51","\155\157\156" => false); } elseif($vvby6dsc=="\171\145\163\164\145\162\144\141\171") { return array("\167\150\145\162\145" => "\141\56\144\164\75\144\141\164\145\137\146\157\162\155\141\164\50\144\141\164\145\137\163\165\142\50\146\162\157\155\137\165\156\151\170\164\151\155\145\50\100\143\164\163\51\54\151\156\164\145\162\166\141\154\40\61\40\144\141\171\51\54\47\45\171\55\45\155\55\45\144\47\51","\155\157\156" => false); } else return false; } function vqnutlsb($vu97x4ek) { $GLOBALS['twatch_error']=$vu97x4ek; return -1; } function vmn8txvo($vu97x4ek) { $GLOBALS['twatch_error']=$vu97x4ek; return false; } function twatch_connect($vpvnqqp3="\144\145\146\141\165\154\164",$vwhdxiqm="") { if(!$vwhdxiqm) $vwhdxiqm=$GLOBALS['HTTP_SERVER_VARS']["\104\117\103\125\115\105\116\124\137\122\117\117\124"]; if($vpvnqqp3=="\144\145\146\141\165\154\164") $vmue50jm="\165\163\145\162\151\156\146\157\56\160\150\160"; else $vmue50jm="\165\163\145\162\151\156\146\157\137$vpvnqqp3\56\160\150\160"; $vmue50jm=$vwhdxiqm."\57\164\167\141\164\143\150\137\151\156\143\154\165\144\145\57".$vmue50jm; if(!@file_exists($vmue50jm)) return vmn8txvo("\165\163\145\162\151\156\146\157\40\146\151\154\145\40\133$vmue50jm\135\40\144\157\145\163\40\156\157\164\40\145\170\151\163\164"); include $vmue50jm; if(!$vwjxgo5r=@mysql_connect($adl_dbserver,$adl_dbuser,$adl_dbpass)) return vmn8txvo("\145\162\162\157\162\40\143\157\156\156\145\143\164\151\156\147\40\164\157\40\144\141\164\141\142\141\163\145"); if(!@mysql_select_db($adl_db)) return vmn8txvo("\145\162\162\157\162\40\163\145\154\145\143\164\151\156\147\40\144\141\164\141\142\141\163\145"); if(!$vb1cxalr=@mysql_query("\163\145\154\145\143\164\40\166\141\154\165\145\40\146\162\157\155\40".$adl_pre."\137\147\145\156\145\162\141\154\40\167\150\145\162\145\40\146\151\145\154\144\75\47\164\144\151\146\47")) return vmn8txvo("\145\162\162\157\162\40\147\145\164\164\151\156\147\40\164\151\155\145\55\172\157\156\145\40\146\162\157\155\40\144\141\164\141\142\141\163\145"); if(!$vxtcw136=@mysql_fetch_row($vb1cxalr)) $vtutkgrl=0; else $vtutkgrl=$vxtcw136[0]; if(!@mysql_query("\163\145\154\145\143\164\40\100\143\164\163\72\75\165\156\151\170\137\164\151\155\145\163\164\141\155\160\50\51\53$vtutkgrl")) return vmn8txvo("\145\162\162\157\162\40\163\145\164\164\151\156\147\40\164\151\155\145\55\172\157\156\145\40\146\157\162\40\144\141\164\141\142\141\163\145"); $GLOBALS['adl_pre']=$adl_pre; $GLOBALS['vi39fh2b']=$vwjxgo5r; $GLOBALS['adl_db']=$adl_db; return true; } function vzjq411b($v2mssjqn) { global $vi39fh2b; if(!$vb1cxalr=@mysql_query($v2mssjqn,$vi39fh2b)) return vqnutlsb("\104\141\164\141\142\141\163\145\40\105\162\162\157\162"); if(!$vxtcw136=@mysql_fetch_row($vb1cxalr)) return vqnutlsb("\104\141\164\141\142\141\163\145\40\105\162\162\157\162"); return (int)$vxtcw136[0]; } function twatch_value($vl82pjmr,$vvby6dsc="\141\154\154") { global $adl_db,$adl_pre,$vi39fh2b,$HTTP_SERVER_VARS,$HTTP_GET_VARS; if(!isset($vi39fh2b)) return vqnutlsb("\124\162\141\143\145\127\141\164\143\150\40\151\163\40\156\157\164\40\143\157\156\156\145\143\164\145\144\54\40\143\141\154\154\40\164\167\141\164\143\150\137\143\157\156\156\145\143\164\50\51\40\164\157\40\143\157\156\156\145\143\164"); if(!@mysql_select_db($adl_db,$vi39fh2b)) return vqnutlsb("\103\141\156\156\157\164\40\163\145\154\145\143\164\40\144\141\164\141\142\141\163\145"); if(!$vzu173rk=viww3zqg($vvby6dsc)) return vqnutlsb("\111\156\166\141\154\151\144\40\160\145\162\151\157\144\40\133$vvby6dsc\135"); $vxan3yro=explode("\40",$vl82pjmr); if(!count($vxan3yro)) return vqnutlsb("\111\156\166\141\154\151\144\40\166\141\154\165\145"); $vl82pjmr=$vxan3yro[0]; $vxan3yro=array_slice($vxan3yro,1); if($vl82pjmr=="\166\151\163\151\164\157\162\163") { return vzjq411b("\163\145\154\145\143\164\40\163\165\155\50\141\56\143\157\165\156\164\51\40\146\162\157\155\40" .$adl_pre."\137\150\151\164\163".($vzu173rk["\155\157\156"]?"\137\155\157\156":"")."\40\141\163\40\141\40" .($vzu173rk["\167\150\145\162\145"]?"\167\150\145\162\145\40".$vzu173rk["\167\150\145\162\145"]:"")); } elseif($vl82pjmr=="\160\141\147\145\137\166\151\145\167\163") { if(in_array("\164\150\151\163\137\160\141\147\145",$vxan3yro)) { if(!empty($HTTP_SERVER_VARS["\122\105\121\125\105\123\124\137\125\122\111"])) { $viiyej6n=$HTTP_SERVER_VARS["\122\105\121\125\105\123\124\137\125\122\111"]; if(preg_match("\57\136\50\56\53\51\\\77\56\53\$\57",$viiyej6n,$vtir3io4)) $viiyej6n=$vtir3io4[1]; } elseif(!empty($HTTP_SERVER_VARS["\120\110\120\137\123\105\114\106"])) $viiyej6n=$HTTP_SERVER_VARS["\120\110\120\137\123\105\114\106"]; else $viiyej6n=$HTTP_SERVER_VARS["\123\103\122\111\120\124\137\116\101\115\105"]; if(in_array("\167\151\164\150\137\160\141\162\141\155\163",$vxan3yro)) { if(!empty($HTTP_SERVER_VARS["\122\105\121\125\105\123\124\137\125\122\111"])) { $viiyej6n=$HTTP_SERVER_VARS["\122\105\121\125\105\123\124\137\125\122\111"]; } else { $vxdg2sdk=0; foreach($HTTP_GET_VARS as $v2y8fsh6=> $vb0qc8n4) { $viiyej6n.=($vxdg2sdk?"\46":"\77").$v2y8fsh6."\75".urlencode($vb0qc8n4); $vxdg2sdk++; } } $v2mssjqn="\163\145\154\145\143\164\40\151\144\40\146\162\157\155\40{$adl_pre}\137\160\141\147\145\163\40\167\150\145\162\145\40\160\141\147\145\75\47$viiyej6n\47"; if(!$vb1cxalr=@mysql_query($v2mssjqn,$vi39fh2b)) return vqnutlsb("\144\142\40\145\162\162\157\162\40\147\145\164\164\151\156\147\40\160\141\147\145\40\151\144\163");   if(!$vxtcw136=mysql_fetch_row($vb1cxalr)) return 0; $viiyej6n="\141\56\160\141\147\145\75{$vxtcw136[0]}"; } else { $v2mssjqn="\163\145\154\145\143\164\40\151\144\40\146\162\157\155\40{$adl_pre}\137\160\141\147\145\163\40\167\150\145\162\145\40\160\141\147\145\40\154\151\153\145\40\47$viiyej6n\77\45\47\40\157\162\40\160\141\147\145\75\47$viiyej6n\47"; if(!$vb1cxalr=@mysql_query($v2mssjqn,$vi39fh2b)) return vqnutlsb("\144\142\40\145\162\162\157\162\40\147\145\164\164\151\156\147\40\160\141\147\145\40\151\144\163");   $vg5u3iju=""; while($vxtcw136=mysql_fetch_row($vb1cxalr)) { $vg5u3iju.=($vg5u3iju?"\54":"").$vxtcw136[0]; } if(!$vg5u3iju) return 0; $viiyej6n="\141\56\160\141\147\145\40\151\156\40\50$vg5u3iju\51"; } } $vubjgzok=($vzu173rk["\167\150\145\162\145"]?"\167\150\145\162\145\40".$vzu173rk["\167\150\145\162\145"]:""); $vubjgzok.=isset($viiyej6n)?($vubjgzok?"\40\141\156\144\40":"\167\150\145\162\145\40").$viiyej6n:""; $v2mssjqn="\163\145\154\145\143\164\40\163\165\155\50\141\56\143\157\165\156\164\51\40\146\162\157\155\40" .$adl_pre."\137\160\141\147\145\163\143".($vzu173rk["\155\157\156"]?"\137\155\157\156":"")."\40\141\163\40\141\40" .$vubjgzok;   return vzjq411b($v2mssjqn); } elseif($vl82pjmr=="\157\156\154\151\156\145\137\166\151\163\151\164\157\162\163") { foreach($vxan3yro as $vl7qtri2) { if(preg_match("\57\163\145\143\157\156\144\163\75\50\\\144\53\51\$\57",$vl7qtri2,$vtir3io4)) { $vl1f7002=(int)$vtir3io4[1]; } } if(!isset($vl1f7002)) $vl1f7002=600; if(empty($HTTP_SERVER_VARS["\122\105\115\117\124\105\137\101\104\104\122"])) $HTTP_SERVER_VARS["\122\105\115\117\124\105\137\101\104\104\122"]="\116\157\164\123\145\164\102\171\123\145\162\166\145\162"; if(isset($HTTP_SERVER_VARS["\110\124\124\120\137\103\114\111\105\116\124\137\111\120"])) $vkm45mnv=$HTTP_SERVER_VARS["\110\124\124\120\137\103\114\111\105\116\124\137\111\120"]; elseif(isset($HTTP_SERVER_VARS["\110\124\124\120\137\130\137\106\117\122\127\101\122\104\105\104\137\106\117\122"])) $vkm45mnv=$HTTP_SERVER_VARS["\110\124\124\120\137\130\137\106\117\122\127\101\122\104\105\104\137\106\117\122"]; if(isset($vkm45mnv)) { if(preg_match("\57\136\50\133\\\144\\\56\135\53\51\\\54\\\163\77\133\\\144\\\56\135\53\$\57",$vkm45mnv,$vtir3io4)) $vkm45mnv=$vtir3io4[1]; $vqgsq39b=substr($vkm45mnv,0,15); } else { $vqgsq39b=substr($HTTP_SERVER_VARS["\122\105\115\117\124\105\137\101\104\104\122"],0,15); } $v2mssjqn="\163\145\154\145\143\164\40\143\157\165\156\164\50\52\51\40\146\162\157\155\40{$adl_pre}\137\151\160\163". "\40\167\150\145\162\145\40\154\141\163\164\76\100\143\164\163\55$vl1f7002\40\141\156\144\40\151\160\74\76\47$vqgsq39b\47";   $vgy09x36=vzjq411b($v2mssjqn); if($vgy09x36>=0) $vgy09x36++; return $vgy09x36; } else return vqnutlsb("\111\156\166\141\154\151\144\40\166\141\154\165\145\40\133$vl82pjmr\135"); } ?>